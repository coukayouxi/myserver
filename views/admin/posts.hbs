<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
    <h1>文章管理</h1>
    <a href="/admin/posts/new" class="btn btn-primary">创建新文章</a>
</div>

<table>
    <thead>
        <tr>
            <th>标题</th>
            <th>状态</th>
            <th>分类</th>
            <th>标签</th>
            <th>浏览量</th>
            <th>创建时间</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        {{#each posts}}
            <tr>
                <td>{{this.title}}</td>
                <td>
                    {{#if (eq this.status 'published')}}
                        <span style="color: #27ae60;">已发布</span>
                    {{else}}
                        <span style="color: #f39c12;">草稿</span>
                    {{/if}}
                </td>
                <td>{{this.category}}</td>
                <td>
                    {{#each this.tags}}
                        <span class="tag" style="font-size: 0.8rem; padding: 0.1rem 0.4rem;">{{this}}</span>
                    {{/each}}
                </td>
                <td>{{this.views}}</td>
                <td>{{formatDate this.created_at}}</td>
                <td>
                    <a href="/admin/posts/edit/{{this.id}}" class="btn btn-primary" style="padding: 0.25rem 0.5rem; font-size: 0.9rem; margin-right: 0.5rem;">编辑</a>
                    <form action="/admin/posts/delete/{{this.id}}" method="POST" style="display: inline;" onsubmit="return confirm('确定要删除这篇文章吗？')">
                        <button type="submit" class="btn btn-danger" style="padding: 0.25rem 0.5rem; font-size: 0.9rem;">删除</button>
                    </form>
                </td>
            </tr>
        {{/each}}
    </tbody>
</table>
<article class="post-detail">
    <header class="post-header">
        <h1 class="post-title">{{post.title}}</h1>
        <div class="post-meta-detail">
            <div class="post-meta">
                <span>📅 {{formatDate post.created_at}}</span>
                <span>👤 {{post.author}}</span>
                <span>👁️ {{post.views}}</span>
                <span>👍 {{post.likes}}</span>
            </div>
            {{#if post.tags.length}}
                <div class="post-tags">
                    {{#each post.tags}}
                        <span class="tag">{{this}}</span>
                    {{/each}}
                </div>
            {{/if}}
        </div>
    </header>
    
    {{#if post.featured_image}}
        <img src="{{post.featured_image}}" alt="{{post.title}}" style="width: 100%; height: 300px; object-fit: cover; margin-bottom: 2rem;">
    {{/if}}
    
    <div class="post-content">
        {{{marked post.content}}}
    </div>
    
    {{#if (config 'blog.enable_sharing')}}
        <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #ddd;">
            <h3>分享这篇文章</h3>
            <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                <button class="btn btn-primary" onclick="shareToTwitter()">Twitter</button>
                <button class="btn btn-primary" onclick="shareToWeibo()">微博</button>
                <button class="btn btn-primary" onclick="copyLink()">复制链接</button>
            </div>
        </div>
    {{/if}}
</article>

<script>
function shareToTwitter() {
    const url = encodeURIComponent(window.location.href);
    const text = encodeURIComponent(document.title);
    window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
}

function shareToWeibo() {
    const url = encodeURIComponent(window.location.href);
    const title = encodeURIComponent(document.title);
    window.open(`http://service.weibo.com/share/share.php?url=${url}&title=${title}`, '_blank');
}

function copyLink() {
    navigator.clipboard.writeText(window.location.href).then(() => {
        alert('链接已复制到剪贴板！');
    });
}
</script>